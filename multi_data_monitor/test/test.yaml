version: 2.0

stylesheets:
  - { path: package://multi_data_monitor/css/plugins/simple.css, target: multi_data_monitor::Simple }

widgets:
  - class: Matrix
    label: root
    items: [w1, w2, w3, w4, { class: Matrix, items: [w5, w7, root] }]
  - class: Simple
    label: w1
    input: { class: subscription, topic: /test/header, field: stamp.sec }
  - class: multi_data_monitor::Simple
    label: w2
    input: { class: subscription, topic: /test/header, field: stamp.nanosec }
  - class: multi_data_monitor::Simple
    label: w3
    input: test-test
  - class: multi_data_monitor::Simple
    label: w4
    input: time1
  - class: relay
    label: w5
    refer: w6
  - class: multi_data_monitor::Simple
    label: w6
    input: temp1
  - class: multi_data_monitor::Simple
    label: w7
    input: temp1

streams:
  - class: print
    title: ===== stamp.sec =====
    input: { class: subscription, topic: /test/header, field: stamp.sec, qos: dd1, label: test-test }
  - class: print
    title: ===== stamp.nanosec =====
    input: { class: subscription, topic: /test/header, field: stamp.nanosec }
  - class: relay
    label: temp1
    refer: temp2
  - class: relay
    label: temp2
    refer: temp3
    param: table
  - class: relay
    label: temp3
    refer: uint-data

subscriptions:
  - name: /test/header
    type: std_msgs/msg/Header
    qos: dd1
    fields:
      - { name: stamp.sec, label: time1 }
      - { name: stamp.nanosec, label: time2 }
  - name: /test/uint32
    fields:
      - { name: data, label: uint-data }
